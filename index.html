<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>FormBuilder - Visual Form Builder</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <!-- Toolbar (Top) -->
    <div id="builder" class="builder-toolbar-container"></div>

    <!-- Main Application Container -->
    <div class="app-container">
      <!-- Left Panel: Field Palette & Canvas -->
      <div class="left-panel">
        <!-- Palette -->
        <div class="palette-section">
          <h3 id="paletteTitle">Feldtypen</h3>
          <div id="palette"></div>
        </div>

        <!-- Canvas/Builder -->
        <div class="canvas-section">
          <div class="section-header" id="canvasTitle">Form Builder</div>
          <div id="canvas" class="canvas-editor"></div>
        </div>
      </div>

      <!-- Center Panel: Live Preview (Large) -->
      <div class="preview-section">
        <div class="section-header" id="previewTitle">Echtzeitvorschau</div>
        <div id="preview" class="preview-editor"></div>
      </div>

      <!-- Right Panel: Properties Editor -->
      <div class="properties-section">
        <div class="section-header" id="propertiesTitle">Eigenschaften</div>
        <div id="properties"></div>
      </div>
    </div>

    <!-- Script: Initialize Application -->
    <script type="module">
      import { FormBuilder } from './src/builder/FormBuilder.js';

      // Initialize the form builder with German language
      // Supported languages: 'de', 'en', 'es', 'fr'
      const builder = new FormBuilder({
        canvasContainerId: 'canvas',
        previewContainerId: 'preview',
        paletteContainerId: 'palette',
        propertiesContainerId: 'properties',
        language: 'de', // Change to 'de', 'es', or 'fr' for different languages
      });

      builder.init();

      // Update HTML labels with translations
      import { i18n } from './src/utils/i18n.js';
      
      document.getElementById('paletteTitle').textContent = i18n.t('fieldTypesHeader');
      document.getElementById('canvasTitle').textContent = i18n.t('formBuilderHeader');
      document.getElementById('previewTitle').textContent = i18n.t('livePreviewHeader');
      document.getElementById('propertiesTitle').textContent = i18n.t('propertiesHeader');

      // Expose builder to console for debugging
      window.formBuilder = builder;

      console.log(
        '%c' + i18n.t('consoleInitialized'),
        'font-size: 16px; color: #2563eb; font-weight: bold;'
      );
      console.log(i18n.t('consoleUseBuilder'));
      console.log(i18n.t('consoleGetSchema'));
      console.log(i18n.t('consoleSetSchema'));
      console.log(i18n.t('consoleGetFormData'));
      console.log(i18n.t('consoleValidateForm'));
      console.log(i18n.t('consoleSupportedLanguages'));
      console.log(i18n.t('consoleSwitchLanguage'));
    </script>
  </body>
</html>
